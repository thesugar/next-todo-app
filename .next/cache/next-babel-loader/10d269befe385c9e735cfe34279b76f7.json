{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/thesugar/next-todo-app/components/AddressShow.js\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport firebase from \"firebase\";\nimport Lib from '../static/address_lib';\nimport Account from '../components/Account';\nimport Router from 'next/router';\n\nvar AddressShow =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AddressShow, _Component);\n\n  function AddressShow(props) {\n    var _this;\n\n    _classCallCheck(this, AddressShow);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddressShow).call(this, props)); //if (this.props.login == false){\n    //    Router.push('/address');\n    //}\n\n    _defineProperty(_assertThisInitialized(_this), \"style\", {\n      fontSize: \"12pt\",\n      padding: \"5px 10px\"\n    });\n\n    _this.state = {\n      last: -1,\n      input: '',\n      email: Router.query.email,\n      address: null,\n      message: Router.query.email + 'のデータ'\n    };\n    _this.logined = _this.logined.bind(_assertThisInitialized(_this));\n    _this.doChange = _this.doChange.bind(_assertThisInitialized(_this));\n    _this.doAction = _this.doAction.bind(_assertThisInitialized(_this));\n    return _this;\n  } // login, logout 処理\n\n\n  _createClass(AddressShow, [{\n    key: \"logined\",\n    value: function logined() {\n      console.log('logined.');\n    }\n  }, {\n    key: \"logouted\",\n    value: function logouted() {\n      Router.push('/address');\n    } // アドレスデータの検索\n\n  }, {\n    key: \"getAddress\",\n    value: function getAddress(email) {\n      var db = firebase.firestore();\n    } // フィールド入力\n\n  }, {\n    key: \"doChange\",\n    value: function doChange(e) {\n      this.setState({\n        input: e.target.value\n      });\n    } // メッセージ送信処理\n\n  }, {\n    key: \"doAction\",\n    value: function doAction() {\n      var from = Lib.encodeEmail(this.props.email);\n      var to = Lib.encodeEmail(this.state.email);\n      var db = firebase.firestore();\n      var d = new Date().getTime();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.address == null) {\n        this.getAddress(Router.query.email);\n      }\n\n      var items = [];\n\n      if (this.state.address != null) {\n        for (var n in this.state.address.messages) {\n          items.unshift(__jsx(\"li\", {\n            key: n,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 69\n            },\n            __self: this\n          }, this.state.address.messages[n]));\n        }\n      }\n\n      return __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, __jsx(Account, {\n        onLogined: this.logined,\n        onLogouted: this.logouted,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }), __jsx(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, this.state.message), __jsx(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }), this.state.message != null ? __jsx(\"table\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, __jsx(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, __jsx(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, __jsx(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"NAME\"), __jsx(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, this.state.name)), __jsx(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, __jsx(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"MAIL\"), __jsx(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, this.state.email)), __jsx(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, __jsx(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, \"TEL\"), __jsx(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, this.state.tel)), __jsx(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, __jsx(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \"NEMO\"), __jsx(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, this.state.memo)))) : __jsx(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"no-address\"), __jsx(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }), __jsx(\"fieldset\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, __jsx(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, \"Message: \"), __jsx(\"input\", {\n        type: \"text\",\n        size: \"40\",\n        value: this.state.input,\n        onChange: this.doChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }), __jsx(\"button\", {\n        onClick: this.doAction,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"send\")), this.state.address != null && this.state.address.messages != null ? __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, __jsx(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"\\u203B\", this.state.address.name, \"\\u3055\\u3093\\u3068\\u306E\\u30E1\\u30C3\\u30BB\\u30FC\\u30B8\"), __jsx(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, items)) : __jsx(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"\\u203B\\u30E1\\u30C3\\u30BB\\u30FC\\u30B8\\u306F\\u3042\\u308A\\u307E\\u305B\\u3093\\u3002\"));\n    }\n  }]);\n\n  return AddressShow;\n}(Component);\n\nAddressShow = connect(function (state) {\n  return state;\n})(AddressShow);\nexport default AddressShow;","map":{"version":3,"sources":["/Users/thesugar/next-todo-app/components/AddressShow.js"],"names":["React","Component","connect","firebase","Lib","Account","Router","AddressShow","props","fontSize","padding","state","last","input","email","query","address","message","logined","bind","doChange","doAction","console","log","push","db","firestore","e","setState","target","value","from","encodeEmail","to","d","Date","getTime","getAddress","items","n","messages","unshift","logouted","name","tel","memo"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport firebase from \"firebase\";\nimport Lib from '../static/address_lib';\nimport Account from '../components/Account';\nimport Router from 'next/router';\n\nclass AddressShow extends Component {\n    style = {\n        fontSize: \"12pt\",\n        padding: \"5px 10px\"\n    }\n\n    constructor(props){\n        super(props);\n        //if (this.props.login == false){\n        //    Router.push('/address');\n        //}\n        this.state = {\n            last: -1,\n            input: '',\n            email: Router.query.email,\n            address: null,\n            message: Router.query.email + 'のデータ'\n        }\n        this.logined = this.logined.bind(this);\n        this.doChange = this.doChange.bind(this);\n        this.doAction = this.doAction.bind(this);\n    }\n\n    // login, logout 処理\n    logined(){\n        console.log('logined.')\n    }\n\n    logouted(){\n        Router.push('/address');\n    }\n\n    // アドレスデータの検索\n    getAddress(email){\n        let db = firebase.firestore();\n\n    }\n\n    // フィールド入力\n    doChange(e){\n        this.setState({\n            input: e.target.value\n        });\n    }\n\n    // メッセージ送信処理\n    doAction(){\n        let from = Lib.encodeEmail(this.props.email);\n        let to = Lib.encodeEmail(this.state.email);\n        let db = firebase.firestore();\n        let d = new Date().getTime();\n        \n    }\n\n    render(){\n        if (this.state.address == null){\n            this.getAddress(Router.query.email);\n        }\n        let items = [];\n        if (this.state.address != null){\n            for(let n in this.state.address.messages){\n                items.unshift(<li key={n}>\n                    {this.state.address.messages[n]}\n                    </li>);\n            }\n        }\n\n        return (\n            <div>\n                <Account onLogined={this.logined}\n                onLogouted={this.logouted} />\n                <p>{this.state.message}</p>\n                <hr />\n                {this.state.message != null\n                ?\n                <table>\n                    <tbody>\n                        <tr>\n                            <th>NAME</th>\n                            <td>{this.state.name}</td>\n                        </tr>\n                        <tr>\n                            <th>MAIL</th>\n                            <td>{this.state.email}</td>\n                        </tr>\n                        <tr>\n                            <th>TEL</th>\n                            <td>{this.state.tel}</td>\n                        </tr>\n                        <tr>\n                            <th>NEMO</th>\n                            <td>{this.state.memo}</td>\n                        </tr>\n                    </tbody>\n                </table>\n                :\n                <p>no-address</p>\n                }\n                <hr />\n                <fieldset>\n                    <p>Message: </p>\n                    <input type=\"text\" size=\"40\"\n                    value={this.state.input}\n                    onChange={this.doChange} />\n                    <button onClick={this.doAction}>send</button>\n                </fieldset>\n                {this.state.address != null &&\n                this.state.address.messages != null\n                ?\n                <div>\n                    <p>※{this.state.address.name}さんとのメッセージ</p>\n                    <ul>{items}</ul>\n                </div>\n                :\n                <p>※メッセージはありません。</p>\n                }\n            </div>\n        );\n    }\n}\n\nAddressShow = connect((state) => state)(AddressShow);\nexport default AddressShow;"]},"metadata":{},"sourceType":"module"}